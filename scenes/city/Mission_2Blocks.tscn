[gd_scene load_steps=10 format=3 uid="uid://nyc_mission_2blocks_0001"]

[ext_resource type="Script" path="res://scripts/city/DoorTrigger.gd" id="1_door"]
[ext_resource type="PackedScene" path="res://scenes/city/interiors/Interior_Bodega_01.tscn" id="2_bodega"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_Street"]
albedo_color = Color(0.12, 0.12, 0.13, 1)
roughness = 0.98

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_Sidewalk"]
albedo_color = Color(0.27, 0.27, 0.28, 1)
roughness = 0.95

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_Building"]
albedo_color = Color(0.20, 0.19, 0.18, 1)
roughness = 0.9

[sub_resource type="BoxShape3D" id="BoxShape3D_Boundary"]
size = Vector3(240, 10, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_BoundaryShort"]
size = Vector3(2, 10, 240)

[sub_resource type="BoxShape3D" id="BoxShape3D_Door"]
size = Vector3(2.5, 2.6, 2.0)

[sub_resource type="BoxShape3D" id="BoxShape3D_Ground"]
size = Vector3(220, 0.2, 220)

[sub_resource type="BoxShape3D" id="BoxShape3D_Bldg_A"]
size = Vector3(18, 34, 18)

[sub_resource type="BoxShape3D" id="BoxShape3D_Bldg_B"]
size = Vector3(22, 46, 16)

[sub_resource type="BoxShape3D" id="BoxShape3D_Bldg_C"]
size = Vector3(16, 28, 22)

[sub_resource type="BoxShape3D" id="BoxShape3D_Bldg_D"]
size = Vector3(20, 60, 20)

[sub_resource type="BoxShape3D" id="BoxShape3D_RoofBldg"]
size = Vector3(18, 18, 18)

[sub_resource type="BoxShape3D" id="BoxShape3D_RoofPlatform"]
size = Vector3(22, 1, 22)

[sub_resource type="BoxShape3D" id="BoxShape3D_Stairs"]
size = Vector3(3, 10, 16)

[sub_resource type="BoxMesh" id="BoxMesh_Street"]
size = Vector3(220, 0.2, 220)

[sub_resource type="BoxMesh" id="BoxMesh_Sidewalk"]
size = Vector3(220, 0.25, 18)

[sub_resource type="BoxMesh" id="BoxMesh_Bldg_A"]
size = Vector3(18, 34, 18)

[sub_resource type="BoxMesh" id="BoxMesh_Bldg_B"]
size = Vector3(22, 46, 16)

[sub_resource type="BoxMesh" id="BoxMesh_Bldg_C"]
size = Vector3(16, 28, 22)

[sub_resource type="BoxMesh" id="BoxMesh_Bldg_D"]
size = Vector3(20, 60, 20)

[sub_resource type="BoxMesh" id="BoxMesh_RoofBldg"]
size = Vector3(18, 18, 18)

[sub_resource type="BoxMesh" id="BoxMesh_RoofPlatform"]
size = Vector3(22, 1, 22)

[sub_resource type="BoxMesh" id="BoxMesh_Stairs"]
size = Vector3(3, 10, 16)

[node name="Mission_2Blocks" type="Node3D"]

[node name="PlayerSpawn" type="Marker3D" parent="."]
position = Vector3(0, 1.2, 70)

[node name="InteriorReturn" type="Marker3D" parent="."]
position = Vector3(-34, 1.2, 28)

[node name="Colliders" type="StaticBody3D" parent="."]
collision_layer = 1
collision_mask = 1

[node name="Ground" type="CollisionShape3D" parent="Colliders"]
shape = SubResource("BoxShape3D_Ground")
position = Vector3(0, -0.1, 0)

[node name="Street" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_Street")
material_override = SubResource("StandardMaterial3D_Street")
position = Vector3(0, -0.1, 0)

[node name="Sidewalk" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_Sidewalk")
material_override = SubResource("StandardMaterial3D_Sidewalk")
position = Vector3(0, 0.0, 42)

[node name="Sidewalk2" type="MeshInstance3D" parent="."]
mesh = SubResource("BoxMesh_Sidewalk")
material_override = SubResource("StandardMaterial3D_Sidewalk")
position = Vector3(0, 0.0, -42)

[node name="Buildings" type="Node3D" parent="."]

[node name="BuildingColliders" type="StaticBody3D" parent="Buildings"]
collision_layer = 1
collision_mask = 1

[node name="Bldg_A_Col" type="CollisionShape3D" parent="Buildings/BuildingColliders"]
shape = SubResource("BoxShape3D_Bldg_A")
position = Vector3(-48, 17, 18)

[node name="Bldg_B_Col" type="CollisionShape3D" parent="Buildings/BuildingColliders"]
shape = SubResource("BoxShape3D_Bldg_B")
position = Vector3(40, 23, 18)

[node name="Bldg_C_Col" type="CollisionShape3D" parent="Buildings/BuildingColliders"]
shape = SubResource("BoxShape3D_Bldg_C")
position = Vector3(-10, 14, -18)

[node name="Bldg_D_Col" type="CollisionShape3D" parent="Buildings/BuildingColliders"]
shape = SubResource("BoxShape3D_Bldg_D")
position = Vector3(70, 30, -20)

[node name="Bldg_A" type="MeshInstance3D" parent="Buildings"]
mesh = SubResource("BoxMesh_Bldg_A")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(-48, 17, 18)

[node name="Bldg_B" type="MeshInstance3D" parent="Buildings"]
mesh = SubResource("BoxMesh_Bldg_B")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(40, 23, 18)

[node name="Bldg_C" type="MeshInstance3D" parent="Buildings"]
mesh = SubResource("BoxMesh_Bldg_C")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(-10, 14, -18)

[node name="Bldg_D" type="MeshInstance3D" parent="Buildings"]
mesh = SubResource("BoxMesh_Bldg_D")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(70, 30, -20)

[node name="Rooftop" type="Node3D" parent="."]
position = Vector3(-70, 0, -20)

[node name="RooftopColliders" type="StaticBody3D" parent="Rooftop"]
collision_layer = 1
collision_mask = 1

[node name="RoofBldg_Col" type="CollisionShape3D" parent="Rooftop/RooftopColliders"]
shape = SubResource("BoxShape3D_RoofBldg")
position = Vector3(0, 9, 0)

[node name="RoofPlatform_Col" type="CollisionShape3D" parent="Rooftop/RooftopColliders"]
shape = SubResource("BoxShape3D_RoofPlatform")
position = Vector3(0, 18.5, 0)

[node name="Stairs_Col" type="CollisionShape3D" parent="Rooftop/RooftopColliders"]
shape = SubResource("BoxShape3D_Stairs")
position = Vector3(12.5, 5, 0)

[node name="RoofBldg" type="MeshInstance3D" parent="Rooftop"]
mesh = SubResource("BoxMesh_RoofBldg")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(0, 9, 0)

[node name="RoofPlatform" type="MeshInstance3D" parent="Rooftop"]
mesh = SubResource("BoxMesh_RoofPlatform")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(0, 18.5, 0)

[node name="Stairs" type="MeshInstance3D" parent="Rooftop"]
mesh = SubResource("BoxMesh_Stairs")
material_override = SubResource("StandardMaterial3D_Building")
position = Vector3(12.5, 5, 0)

[node name="Boundaries" type="StaticBody3D" parent="."]
collision_layer = 1
collision_mask = 1

[node name="North" type="CollisionShape3D" parent="Boundaries"]
shape = SubResource("BoxShape3D_Boundary")
position = Vector3(0, 5, -110)

[node name="South" type="CollisionShape3D" parent="Boundaries"]
shape = SubResource("BoxShape3D_Boundary")
position = Vector3(0, 5, 110)

[node name="West" type="CollisionShape3D" parent="Boundaries"]
shape = SubResource("BoxShape3D_BoundaryShort")
position = Vector3(-110, 5, 0)

[node name="East" type="CollisionShape3D" parent="Boundaries"]
shape = SubResource("BoxShape3D_BoundaryShort")
position = Vector3(110, 5, 0)

[node name="BodegaDoor" type="Area3D" parent="."]
script = ExtResource("1_door")
mode = 0
interior_scene = ExtResource("2_bodega")
hint_text = "Enter Bodega"
position = Vector3(-34, 1.3, 34)

[node name="CollisionShape3D" type="CollisionShape3D" parent="BodegaDoor"]
shape = SubResource("BoxShape3D_Door")

[node name="HintLabel3D" type="Label3D" parent="BodegaDoor"]
text = "Bodega"
billboard = 1
position = Vector3(0, 2.8, 0)
outline_size = 2


